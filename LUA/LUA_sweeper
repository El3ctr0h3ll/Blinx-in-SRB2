-- file is for sweeper picking up OBJs and shoting

-- TO-DO for sweeper
-- 1. make its so it shoots when the player taps the spin key and suck when hold
-- ??. make someting to store the list of what OBJs can be sucked and how heavy it is and the damage
-- 2. suck functionality, inventory (make sure its easy to change the size of other Sweeper upgrades)
-- 3. cheak if the player's sweeper can suck heavyer OBJs  

local sweeperstate = 0

addHook("PlayerThink", function(p) -- "Executes once per tic for the player as it runs after it's thinker." - srb2 wiki
	if p.mo.skin != "blinx" return end -- if the player skin is not blinx then end loop
	-- idea is that it tells if the player taped or is holding the spin key
	-- in the blinx games it waits a litte bit befor acting on the thing the player wants to do but idk if i want to add that
	if (p.cmd.buttons & BT_SPIN) then 
	//	uuuuhhhhhh
// print("tap")
print("hold")
sweeperstate = 1 -- set when sucking up OBJs
	if 	sweeperstate == 1 then
	p.normalspeed = 14*FRACUNIT end-- 36 - 41%
else
sweeperstate = 0
	end
end, MT_PLAYER)

-- inventory

-- i think the idea is to remove the OBJ and save what obj it was (probe with table.insert)
-- then when shot cheak whet is the laasted one in the list a spaw it with P_SpawnMobjFromMobj
